{"version":3,"file":"twilioWhatsAppAdapter.js","sourceRoot":"","sources":["../src/twilioWhatsAppAdapter.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA;;GAEG;AACH,2CAA6L;AAC7L,iCAAiC;AAEjC,oDAA6D;AA2B7D;;;;;;GAMG;AACH,IAAY,qBAMX;AAND,WAAY,qBAAqB;IAC7B,oDAA2B,CAAA;IAC3B,8DAAqC,CAAA;IACrC,oDAA2B,CAAA;IAC3B,wDAA+B,CAAA;IAC/B,wDAA+B,CAAA;AACnC,CAAC,EANW,qBAAqB,GAArB,6BAAqB,KAArB,6BAAqB,QAMhC;AAED;;GAEG;AACH,MAAa,qBAAsB,SAAQ,uBAAgB;IAMvD;;;OAGG;IACH,YAAmB,QAAuC,EAAE,2BAAyD;QACjH,KAAK,CAAC,2BAA2B,CAAC,CAAC;QAPpB,YAAO,GAAW,UAAU,CAAC;QAS5C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAEzB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;YACnH,MAAM,IAAI,KAAK,CAAC,sFAAsF,CAAC,CAAC;SAC3G;QAED,gDAAgD;QAChD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,UAAU,CAAC,WAAW,CAAC,EAAE;YACpD,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;SACvE;QAED,IAAI;YACA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC;SAClF;QAAC,OAAO,KAAK,EAAE;YACZ,MAAM,IAAI,KAAK,CAAC,wCAAyC,KAAK,CAAC,OAAQ,GAAG,CAAC,CAAC;SAC/E;IACL,CAAC;IAED;;;;;OAKG;IACU,cAAc,CAAC,OAAoB,EAAE,UAA+B;;YAC7E,MAAM,SAAS,GAAuB,EAAE,CAAC;YAEzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACxC,MAAM,QAAQ,GAAsB,UAAU,CAAC,CAAC,CAAC,CAAC;gBAElD,QAAQ,QAAQ,CAAC,IAAI,EAAE;oBACnB,KAAK,OAAO;wBACR,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;wBACjC,SAAS,CAAC,IAAI,CAAC,EAAsB,CAAC,CAAC;wBACvC,MAAM;oBACV,KAAK,0BAAa,CAAC,OAAO;wBACtB,IAAI,CAAC,QAAQ,CAAC,YAAY,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,EAAE;4BACrD,MAAM,IAAI,KAAK,CAAC,qFAAqF,CAAC,CAAC;yBAC1G;wBAED,gDAAgD;wBAChD,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;wBAE7C,IAAI;4BACA,MAAM,GAAG,GAAoB,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;4BACxE,SAAS,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC;yBACnC;wBAAC,OAAO,KAAK,EAAE;4BACZ,MAAM,IAAI,KAAK,CAAC,2CAA4C,KAAK,CAAC,OAAQ,GAAG,CAAC,CAAC;yBAClF;wBAED,MAAM;oBACV;wBACI,SAAS,CAAC,IAAI,CAAC,EAAsB,CAAC,CAAC;wBACvC,OAAO,CAAC,IAAI,CAAC,+DAAgE,QAAQ,CAAC,IAAK,qBAAqB,CAAC,CAAC;iBACzH;aACJ;YAED,OAAO,SAAS,CAAC;QACrB,CAAC;KAAA;IAED,6DAA6D;IAChD,cAAc,CAAC,OAAoB,EAAE,QAA2B;;YACzE,MAAM,IAAI,KAAK,CAAC,8CAA8C,CAAC,CAAC;QACpE,CAAC;KAAA;IAED,6DAA6D;IAChD,cAAc,CAAC,OAAoB,EAAE,SAAyC;;YACvF,MAAM,IAAI,KAAK,CAAC,8CAA8C,CAAC,CAAC;QACpE,CAAC;KAAA;IAED;;;;;OAKG;IACU,oBAAoB,CAAC,SAAyC,EAAE,KAA8C;;YACvH,MAAM,OAAO,GAAsB,wBAAW,CAAC,0BAA0B,CACrE,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,sBAAsB,EAAE,EAC/C,SAAS,EACT,IAAI,CACP,CAAC;YAEF,MAAM,OAAO,GAAgB,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAEzD,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAC9C,CAAC;KAAA;IAED;;;;;;OAMG;IACU,eAAe,CAAC,GAAe,EAAE,GAAgB,EAAE,KAA6C;;YAEzG,8CAA8C;YAC9C,iEAAiE;YACjE,IAAI,EAAC,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,OAAO,CAAC,oBAAoB,EAAC,IAAI,EAAC,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,OAAO,CAAC,oBAAoB,EAAC,EAAE;gBAC5E,OAAO,CAAC,IAAI,CAAC,sFAAsF,CAAC,CAAC;gBACrG,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAChB,GAAG,CAAC,GAAG,EAAE,CAAC;gBACV,OAAO;aACV;YAED,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,oBAAoB,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;YACzF,MAAM,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;YAC1C,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;YAC7C,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAE7C,IAAI,CAAC,OAAO,EAAE;gBACV,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAChB,GAAG,CAAC,GAAG,EAAE,CAAC;gBACV,OAAO;aACV;YAED,MAAM,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC;YAExF,IAAI,CAAC,eAAe,EAAE;gBAClB,OAAO,CAAC,IAAI,CAAC,4FAA4F,CAAC,CAAC;gBAE3G,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAChB,GAAG,CAAC,GAAG,EAAE,CAAC;gBACV,OAAO;aACV;YAED,gBAAgB;YAChB,MAAM,QAAQ,GAAsB;gBAChC,EAAE,EAAE,OAAO,CAAC,UAAU;gBACtB,SAAS,EAAE,IAAI,IAAI,EAAE;gBACrB,SAAS,EAAE,IAAI,CAAC,OAAO;gBACvB,YAAY,EAAE;oBACV,EAAE,EAAE,OAAO,CAAC,IAAI;oBAChB,OAAO,EAAE,KAAK;oBACd,gBAAgB,EAAE,IAAI;oBACtB,QAAQ,EAAE,IAAI;oBACd,IAAI,EAAE,EAAE;iBACX;gBACD,IAAI,EAAE;oBACF,EAAE,EAAE,OAAO,CAAC,IAAI;oBAChB,IAAI,EAAE,EAAE,CAAC,0DAA0D;iBACtE;gBACD,SAAS,EAAE;oBACP,EAAE,EAAE,OAAO,CAAC,EAAE;oBACd,IAAI,EAAE,EAAE;iBACX;gBACD,IAAI,EAAE,OAAO,CAAC,IAAI;gBAClB,WAAW,EAAE,OAAO;gBACpB,aAAa,EAAE,IAAI;gBACnB,QAAQ,EAAE,IAAI;gBACd,UAAU,EAAE,IAAI;gBAChB,SAAS,EAAE,IAAI;gBACf,KAAK,EAAE,OAAO,CAAC,mBAAmB;gBAClC,SAAS,EAAE,IAAI;gBACf,IAAI,EAAE,IAAI;aACb,CAAC;YAEF,uBAAuB;YACvB,IAAI,OAAO,CAAC,SAAS,EAAE;gBACnB,QAAQ,OAAO,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE;oBACrC,KAAK,MAAM;wBACP,QAAQ,CAAC,IAAI,GAAG,qBAAqB,CAAC,WAAW,CAAC;wBAClD,MAAM;oBACV,KAAK,UAAU;wBACX,QAAQ,CAAC,IAAI,GAAG,0BAAa,CAAC,OAAO,CAAC;wBACtC,MAAM;oBACV,KAAK,WAAW;wBACZ,QAAQ,CAAC,IAAI,GAAG,qBAAqB,CAAC,gBAAgB,CAAC;wBACvD,MAAM;oBACV,KAAK,MAAM;wBACP,QAAQ,CAAC,IAAI,GAAG,qBAAqB,CAAC,WAAW,CAAC;wBAClD,MAAM;oBACV;wBACI,OAAO,CAAC,IAAI,CAAC,+DAAgE,OAAO,CAAC,SAAU,qBAAqB,CAAC,CAAC;iBAC7H;aACJ;YAED,IAAI,OAAO,CAAC,SAAS,EAAE;gBACnB,QAAQ,OAAO,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE;oBACrC,KAAK,WAAW;wBACZ,QAAQ,CAAC,IAAI,GAAG,qBAAqB,CAAC,gBAAgB,CAAC;wBACvD,MAAM;oBACV,KAAK,MAAM;wBACP,QAAQ,CAAC,IAAI,GAAG,qBAAqB,CAAC,WAAW,CAAC;wBAClD,MAAM;oBACV,KAAK,UAAU;wBACX,QAAQ,CAAC,IAAI,GAAG,0BAAa,CAAC,OAAO,CAAC;wBACtC,MAAM;oBACV;wBACI,OAAO,CAAC,IAAI,CAAC,+DAAgE,OAAO,CAAC,SAAU,qBAAqB,CAAC,CAAC;iBAC7H;aACJ;YAED,QAAQ,CAAC,WAAW,GAAG,EAAE,CAAC;YAE1B,mBAAmB;YACnB,IAAI,QAAQ,CAAC,IAAI,KAAK,0BAAa,CAAC,OAAO,EAAE;gBAEzC,mBAAmB;gBACnB,IAAI,OAAO,CAAC,QAAQ,IAAI,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;oBAEpD,MAAM,MAAM,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;oBAE1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;wBAC7B,MAAM,UAAU,GAAe;4BAC3B,WAAW,EAAE,OAAO,CAAC,kBAAkB,GAAG,CAAC,CAAC;4BAC5C,UAAU,EAAE,OAAO,CAAC,UAAU,GAAG,CAAC,CAAC;yBACtC,CAAC;wBACF,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;qBACzC;iBAEJ;gBAED,gBAAgB;gBAChB,+FAA+F;gBAC/F,IAAI,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,SAAS,EAAE;oBACvC,MAAM,GAAG,GAAmB;wBACxB,SAAS,EAAE,IAAI;wBACf,IAAI,EAAE,gBAAgB;wBACtB,QAAQ,EAAE,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC;wBACtC,SAAS,EAAE,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC;wBACxC,IAAI,EAAE,OAAO,CAAC,OAAO;qBACxB,CAAC;oBAEF,MAAM,UAAU,GAAe;wBAC3B,WAAW,EAAE,kBAAkB;wBAC/B,OAAO,EAAE,GAAG;wBACZ,IAAI,EAAE,OAAO,CAAC,OAAO;qBACxB,CAAC;oBAEF,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACzC;aAEJ;YAED,kCAAkC;YAClC,MAAM,OAAO,GAAgB,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAE1D,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;YACzC,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YAEzC,0BAA0B;YAC1B,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;YAChD,IAAI,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;gBACnC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;aAC/C;iBAAM;gBACH,GAAG,CAAC,GAAG,EAAE,CAAC;aACb;QACL,CAAC;KAAA;IAED;;;OAGG;IACO,aAAa,CAAC,OAA0B;QAC9C,OAAO,IAAI,wBAAW,CAAC,IAAW,EAAE,OAAO,CAAC,CAAC;IACjD,CAAC;IAED;;;;OAIG;IACO,eAAe,CAAC,SAAiB,EAAE,SAAiB,EAAE,UAAkB,EAAE,OAA4B;QAC5G,OAAO,MAAM,CAAC,eAAe,CAAC,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC;IAC7E,CAAC;IAED;;;;OAIG;IACO,kBAAkB,CAAC,UAAkB,EAAE,SAAiB;QAC9D,OAAO,MAAM,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;IACzC,CAAC;IAED;;;;OAIG;IACO,aAAa,CAAC,QAA2B;;QAE/C,2CAA2C;QAC3C,IAAI,QAAQ,CAAC,IAAI,EAAE;YACf,eAAe;YACf,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;YAElE,SAAS;YACT,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;YAElE,SAAS;YACT,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;YAElE,eAAe;YACf,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE,UAAU,CAAC,CAAC;SAC/E;QAED,kBAAkB;QAClB,mDAAmD;QAEnD,gCAAgC;QAChC,kFAAkF;QAClF,MAAM,OAAO,GAAQ;YACjB,IAAI,EAAE,QAAQ,CAAC,IAAI;YACnB,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW;YAC/B,EAAE,EAAE,QAAQ,CAAC,YAAY,CAAC,EAAE;SAC/B,CAAC;QAEF,6CAA6C;QAC7C,+EAA+E;QAC/E,UAAI,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,WAAW,0CAAE,gBAAgB,EAAE;YACzC,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,gBAAgB,CAAC,EAAE;gBACtD,OAAO,CAAC,gBAAgB,GAAG,QAAQ,CAAC,WAAW,CAAC,gBAAgB,CAAC;aACpE;iBAAM;gBACH,OAAO,CAAC,gBAAgB,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;aACtE;SACJ;QAED,qBAAqB;QACrB,2EAA2E;QAC3E,yGAAyG;QACzG,IAAI,OAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,WAAW,0CAAE,MAAM,IAAG,CAAC,EAAE;YACnC,MAAM,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAE3C,QAAQ,UAAU,CAAC,WAAW,EAAE;gBAC5B,KAAK,uCAAuC;oBACxC,gDAAgD;oBAChD,MAAM,MAAM,GAAG,UAAU,CAAC,OAAO,CAAC;oBAElC,OAAO,CAAC,IAAI,GAAG,GAAI,MAAM,CAAC,IAAK,MAAM,CAAC;oBACtC,OAAO,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAK,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAM,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;oBACpF,OAAO,CAAC,IAAI,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;oBACxC,MAAM;gBAEV,KAAK,kBAAkB;oBACnB,IAAI,OAAA,UAAU,CAAC,OAAO,0CAAE,IAAI,MAAK,gBAAgB,EAAE;wBAC/C,MAAM,GAAG,GAAG,UAAU,CAAC,OAAO,CAAC;wBAC/B,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAQ,GAAG,CAAC,QAAS,IAAK,GAAG,CAAC,SAAU,GAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,IAAK,GAAG,CAAC,IAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAE,EAAE,CAAC,CAAC;qBAClH;oBACD,MAAM;gBAEV;oBACI,kCAAkC;oBAClC,IAAI,UAAU,CAAC,UAAU,EAAE;wBACvB,OAAO,CAAC,QAAQ,GAAG,UAAU,CAAC,UAAU,CAAC;qBAC5C;yBACI;wBACD,OAAO,CAAC,IAAI,CAAC,4GAA4G,CAAC,CAAC;qBAC9H;oBAED,MAAM;aACb;SAEJ;QAED,kDAAkD;QAClD,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;YACpC,MAAM,IAAI,KAAK,CAAC,0GAA0G,CAAC,CAAC;SAC/H;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;CAEJ;AA1XD,sDA0XC"}